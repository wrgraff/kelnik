const addElement=function(t,e){var o=document.createElement(t);return o.className=e,o};function showAlert(t){var e=addElement("div","alert"),o=addElement("div","alert__text");o.innerHTML=t;var n=addElement("div","alert__actions");e.append(o),e.append(n),document.body.append(e),setTimeout(function(){e.classList.add("alert_faded")},10),setTimeout(function(){e.classList.remove("alert_faded")},5e3),setTimeout(function(){e.remove()},5250)}function findfloatedInputs(t){const e=t.querySelectorAll(".input__field");addLabeledInputsClass(e),listenLabeledInputs(e)}function addLabeledInputsClass(t){t.forEach(t=>{t.parentElement.classList.add("input_floating")})}function listenLabeledInputs(t){t.forEach(t=>{listenLabeledInput(t)})}function listenLabeledInput(t){changeLabeledInput(t),t.addEventListener("change",()=>{changeLabeledInput(t)})}function changeLabeledInput(t){""==t.value?t.classList.remove("input__field_filled"):t.classList.add("input__field_filled")}findfloatedInputs(document);var scrollTopButton=addElement("button","scroll-top");document.body.append(scrollTopButton);var pageFooter=document.querySelector(".page-footer"),pageFooterTop=pageFooter.offsetTop;function scrollTopListener(){document.body.scrollTop>200||document.documentElement.scrollTop>200?scrollTopButton.classList.add("scroll-top_showed"):scrollTopButton.classList.remove("scroll-top_showed"),document.body.scrollTop>pageFooter.offsetTop-window.innerHeight||document.documentElement.scrollTop>pageFooter.offsetTop-window.innerHeight?(scrollTopButton.style.bottom=pageFooter.offsetHeight-40+"px",scrollTopButton.classList.add("scroll-top_bottom")):(scrollTopButton.removeAttribute("style"),scrollTopButton.classList.remove("scroll-top_bottom"))}function findSwitches(t){document.querySelectorAll(t).forEach(t=>{listenSwitch(t)})}function listenSwitch(t){t.addEventListener("click",t=>{let e="true"===t.target.getAttribute("aria-checked");t.target.setAttribute("aria-checked",String(!e)),t.target.setAttribute("aria-label",e?"Добавить в избранное":"Удалить из избранного"),showAlert(e?"Квартира удалена из избранного":"Квартира добавлена в избранное")})}scrollTopButton.addEventListener("click",()=>{document.documentElement.scroll({top:0,left:0,behavior:"smooth"})}),window.onscroll=function(){scrollTopListener()},findSwitches(".favorite-button");